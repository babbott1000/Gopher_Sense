// Autogenerated by SensorCannon
// Hardware config for example_dam

#include "module_hw_config.h"
#include "gopher_sense.h"
#include "GopherCAN.h"

// BUCKETS
// setup the param lists for each bucket

GENERAL_PARAMETER high_frequency_tcm_bucket_general_param_list[6] =
{
  {
    .can_param = (CAN_INFO_STRUCT*)(&rear_left_shock_pot),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&rear_right_shock_pot),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&front_left_shock_pot),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&front_right_shock_pot),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&engine_temp_ecu),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&oil_temp_ecu),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  
};

GENERAL_PARAMETER low_frequency_tcm_bucket_general_param_list[12] =
{
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_shifter_position),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_clutch_position),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_neutral),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_target_rpm),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_current_gear),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_target_gear),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_currently_moving),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_successful_shift),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_trans_rpm),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_lap_timer),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_using_clutch),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  {
    .can_param = (CAN_INFO_STRUCT*)(&tcm_anti_stall),
    .status = CLEAN,
	.last_tx = (U32)(-1*MAX_TIME_BETWEEN_TX_ms)
  },
  
};


// initalize the bucket structs
BUCKET bucket_list[NUM_BUCKETS] =
{
  
  
  // Define bucket high_frequency_tcm
  {
    .bucket_id = 0,
    .ms_between_req = 4,
    .state = BUCKET_CONFIG_INIT,
    .param_list = 
    {
      .len = 6,
      .list = high_frequency_tcm_bucket_general_param_list
    }
  },
  
  
  // Define bucket low_frequency_tcm
  {
    .bucket_id = 1,
    .ms_between_req = 10,
    .state = BUCKET_CONFIG_INIT,
    .param_list = 
    {
      .len = 12,
      .list = low_frequency_tcm_bucket_general_param_list
    }
  },
  
};

// ***************************************************************************



// BEGIN ADC1 PARAMS

// give memory to the buffers


#define ADC1_PARAM1_BUF_SIZE 1
U16 adc1_param1_buffer_mem[ADC1_PARAM1_BUF_SIZE];


#define ADC1_PARAM2_BUF_SIZE 1
U16 adc1_param2_buffer_mem[ADC1_PARAM2_BUF_SIZE];


#define ADC1_PARAM3_BUF_SIZE 1
U16 adc1_param3_buffer_mem[ADC1_PARAM3_BUF_SIZE];

// Fill out the array with all of the sensor params
ANALOG_SENSOR_PARAM adc1_sensor_params[NUM_ADC1_PARAMS] = 
{
  
  
  // adc1_param1
  {
    .bucket_param = high_frequency_tcm_bucket_general_param_list + 0,
    .analog_sensor = &rear_left_shock_pot,
    .buffer =
    {
      .buffer = adc1_param1_buffer_mem,
      .buffer_size = ADC1_PARAM1_BUF_SIZE,
      .fill_level = 0,
	  .buffer_head = 0
    }
  },
  #undef ADC1_PARAM1_BUF_SIZE
  
  
  // adc1_param2
  {
    .bucket_param = high_frequency_tcm_bucket_general_param_list + 1,
    .analog_sensor = &rear_right_shock_pot,
    .buffer =
    {
      .buffer = adc1_param2_buffer_mem,
      .buffer_size = ADC1_PARAM2_BUF_SIZE,
      .fill_level = 0,
	  .buffer_head = 0
    }
  },
  #undef ADC1_PARAM2_BUF_SIZE
  
  
  // adc1_param3
  {
    .bucket_param = low_frequency_tcm_bucket_general_param_list + 1,
    .analog_sensor = &tcm_clutch_position,
    .buffer =
    {
      .buffer = adc1_param3_buffer_mem,
      .buffer_size = ADC1_PARAM3_BUF_SIZE,
      .fill_level = 0,
	  .buffer_head = 0
    }
  },
  #undef ADC1_PARAM3_BUF_SIZE
  
};

// ***************************************************************************


// BEGIN ADC2 PARAMS

// give memory to the buffers


#define ADC2_PARAM1_BUF_SIZE 1
U16 adc2_param1_buffer_mem[ADC2_PARAM1_BUF_SIZE];


#define ADC2_PARAM2_BUF_SIZE 1
U16 adc2_param2_buffer_mem[ADC2_PARAM2_BUF_SIZE];


#define ADC2_PARAM3_BUF_SIZE 1
U16 adc2_param3_buffer_mem[ADC2_PARAM3_BUF_SIZE];

// Fill out the array with all of the sensor params
ANALOG_SENSOR_PARAM adc2_sensor_params[NUM_ADC2_PARAMS] = 
{
  
  
  // adc2_param1
  {
    .bucket_param = high_frequency_tcm_bucket_general_param_list + 2,
    .analog_sensor = &front_left_shock_pot,
    .buffer =
    {
      .buffer = adc2_param1_buffer_mem,
      .buffer_size = ADC2_PARAM1_BUF_SIZE,
      .fill_level = 0,
	  .buffer_head = 0
    }
  },
  #undef ADC2_PARAM1_BUF_SIZE
  
  
  // adc2_param2
  {
    .bucket_param = high_frequency_tcm_bucket_general_param_list + 3,
    .analog_sensor = &front_right_shock_pot,
    .buffer =
    {
      .buffer = adc2_param2_buffer_mem,
      .buffer_size = ADC2_PARAM2_BUF_SIZE,
      .fill_level = 0,
	  .buffer_head = 0
    }
  },
  #undef ADC2_PARAM2_BUF_SIZE
  
  
  // adc2_param3
  {
    .bucket_param = low_frequency_tcm_bucket_general_param_list + 0,
    .analog_sensor = &tcm_shifter_position,
    .buffer =
    {
      .buffer = adc2_param3_buffer_mem,
      .buffer_size = ADC2_PARAM3_BUF_SIZE,
      .fill_level = 0,
	  .buffer_head = 0
    }
  },
  #undef ADC2_PARAM3_BUF_SIZE
  
};

// ***************************************************************************


// BEGIN ADC3 PARAMS

// give memory to the buffers


#define ADC3_PARAM1_BUF_SIZE 1
U16 adc3_param1_buffer_mem[ADC3_PARAM1_BUF_SIZE];


#define ADC3_PARAM2_BUF_SIZE 1
U16 adc3_param2_buffer_mem[ADC3_PARAM2_BUF_SIZE];

// Fill out the array with all of the sensor params
ANALOG_SENSOR_PARAM adc3_sensor_params[NUM_ADC3_PARAMS] = 
{
  
  
  // adc3_param1
  {
    .bucket_param = high_frequency_tcm_bucket_general_param_list + 5,
    .analog_sensor = &oil_temp_ecu,
    .buffer =
    {
      .buffer = adc3_param1_buffer_mem,
      .buffer_size = ADC3_PARAM1_BUF_SIZE,
      .fill_level = 0,
	  .buffer_head = 0
    }
  },
  #undef ADC3_PARAM1_BUF_SIZE
  
  
  // adc3_param2
  {
    .bucket_param = high_frequency_tcm_bucket_general_param_list + 4,
    .analog_sensor = &engine_temp_ecu,
    .buffer =
    {
      .buffer = adc3_param2_buffer_mem,
      .buffer_size = ADC3_PARAM2_BUF_SIZE,
      .fill_level = 0,
	  .buffer_head = 0
    }
  },
  #undef ADC3_PARAM2_BUF_SIZE
  
};

// ***************************************************************************

//END autogenerted file